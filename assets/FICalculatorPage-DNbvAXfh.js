import{r as c,j as t,L as A,B as z,m as D,Q as O}from"./index-BrKBQ3dl.js";import{A as q}from"./arrow-left-Bp2o7Yau.js";import{W as Q}from"./wallet-Bviz8yAJ.js";import{S as $}from"./shield-check-D3c4qx9B.js";import{C as G,R as H,I as L}from"./refresh-cw-t6JHrKN9.js";import{T as Y}from"./trending-up-CTm7MXke.js";import{P as X}from"./percent-tecTrWYe.js";const w=(a,o=!0)=>{if(a==null||isNaN(a))return o?"0 VNÄ":"0";const n=new Intl.NumberFormat("vi-VN").format(a);return o?`${n} VNÄ`:n},C=a=>{const o=a.replace(/[^0-9]/g,"");if(o==="")return;const n=parseFloat(o);return isNaN(n)?void 0:n},J=a=>{if(a==null||isNaN(a)||a===1/0)return"...";if(a<0)return"N/A";const o=Math.floor(a),n=Math.round((a-o)*12);let d="";return o>0&&(d+=`${o} nÄƒm `),n>0&&(d+=`${n} thÃ¡ng`),d.trim()||(o===0&&n===0?"Ngay bÃ¢y giá»!":"0 thÃ¡ng")},E=({id:a,label:o,value:n,onChange:d,icon:f,unit:v,placeholder:r,tooltip:y,min:e=0,max:N})=>{const[l,h]=c.useState(String(n));c.useEffect(()=>{if(String(n)!==l){const s=parseFloat(l.replace(",","."));(isNaN(s)||n!==s)&&h(String(n))}},[n]);const m=s=>{let i=s.target.value;i=i.replace(",",".");let b="",u=!1;for(const x of i)(x>="0"&&x<="9"||x==="."&&!u)&&(b+=x,x==="."&&(u=!0));if(i=b,h(i),i===""||i===".")d(e);else{const x=parseFloat(i);isNaN(x)?d(e):d(x)}},I=()=>{let s=parseFloat(l.replace(",","."));isNaN(s)||s<e?s=e:N!==void 0&&s>N&&(s=N),h(String(s)),d(s)};return t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:a,className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[f&&t.jsx("span",{className:"mr-2 opacity-70",children:f}),o,y&&t.jsxs("span",{className:"ml-1.5 group relative",children:[t.jsx(L,{size:14,className:"text-gray-400 hover:text-gray-600 cursor-help"}),t.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-max max-w-xs p-2 text-xs text-white bg-slate-800 rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-lg",children:y})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",inputMode:"decimal",id:a,value:l,onChange:m,onBlur:I,placeholder:r,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors text-gray-800 placeholder-gray-400 text-lg"}),v&&t.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm pointer-events-none",children:v})]})]})},M=({id:a,label:o,value:n,onValueChange:d,icon:f,unit:v,placeholder:r,tooltip:y,min:e=0,isRequired:N})=>{const[l,h]=c.useState(n!==void 0?w(n,!1):"");c.useEffect(()=>{const s=C(l);(n!==s||n===void 0&&l!=="")&&h(n!==void 0?w(n,!1):"")},[n]);const m=s=>{const i=s.target.value,b=C(i);if(i==="")h(""),d(void 0);else if(b!==void 0)h(w(b,!1)),d(b);else{const u=i.replace(/[^0-9]/g,"");h(u)}},I=()=>{let s=C(l);if(s===void 0)if(N)s=e;else{d(void 0),h("");return}s<e&&(s=e),h(w(s,!1)),d(s)};return t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:a,className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[f&&t.jsx("span",{className:"mr-2 opacity-70",children:f}),o," ",N&&t.jsx("span",{className:"text-red-500 ml-0.5",children:"*"}),y&&t.jsxs("span",{className:"ml-1.5 group relative",children:[t.jsx(L,{size:14,className:"text-gray-400 hover:text-gray-600 cursor-help"}),t.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-max max-w-xs p-2 text-xs text-white bg-slate-800 rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-lg",children:y})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",inputMode:"numeric",id:a,value:l,onChange:m,onBlur:I,placeholder:r,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors text-gray-800 placeholder-gray-400 text-lg"}),v&&t.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm pointer-events-none",children:v})]})]})},rt=()=>{const[a,o]=c.useState(1),[n,d]=c.useState(void 0),[f,v]=c.useState(4),[r,y]=c.useState(null),[e,N]=c.useState(void 0),[l,h]=c.useState(void 0),[m,I]=c.useState(7),[s,i]=c.useState(null),[b,u]=c.useState(null),[x,p]=c.useState("");c.useEffect(()=>{if(n!==void 0&&n>0&&f>0){const j=n*12/(f/100);y(j)}else y(null)},[n,f]);const R=c.useCallback(()=>{if(r===null||r<=0||e===void 0||l===void 0||m===void 0||l<0||m<0){i(null),u(null),p("");return}if(e>=r){i(0),u(e),p("ÄÃ£ Ä‘áº¡t Ä‘Æ°á»£c!");return}if(l===0&&e<r&&m===0){i(1/0),u(e),p("KhÃ´ng bao giá» (vá»›i cÃ¡c thÃ´ng sá»‘ hiá»‡n táº¡i)");return}if(l===0&&e<r&&m>0&&e*(1+m/100)<=e&&e>0){i(1/0),u(e),p("KhÃ´ng thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c (lÃ£i suáº¥t khÃ´ng Ä‘á»§ bÃ¹)");return}let j=0,S=e;const V=l*12,T=m/100;if(V===0&&T>0){if(e<=0||e>=r){i(e>=r?0:1/0),u(e),p(e>=r?"ÄÃ£ Ä‘áº¡t Ä‘Æ°á»£c!":"KhÃ´ng thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c");return}const g=Math.log(r/e)/Math.log(1+T);if(g>0&&g!==1/0&&g<=100){i(g),u(e*Math.pow(1+T,g));const F=new Date,k=g*12;F.setMonth(F.getMonth()+Math.round(k));const W={day:"2-digit",month:"2-digit",year:"numeric"};p(F.toLocaleDateString("vi-VN",W))}else i(1/0),u(e),p(g>100?"TrÃªn 100 nÄƒm":"Ráº¥t lÃ¢u hoáº·c khÃ´ng thá»ƒ");return}if(V<=0&&T<=0&&e<r){i(1/0),u(e),p("KhÃ´ng thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c (cáº§n tiáº¿t kiá»‡m hoáº·c lÃ£i suáº¥t dÆ°Æ¡ng)");return}for(;S<r;)if(S=(S+V)*(1+T),j++,j>100){i(1/0),u(S),p("TrÃªn 100 nÄƒm");return}if(i(j),u(S),j!==1/0&&j>=0){const g=new Date,F=j*12;g.setMonth(g.getMonth()+Math.round(F));const k={day:"2-digit",month:"2-digit",year:"numeric"};p(g.toLocaleDateString("vi-VN",k))}},[r,e,l,m]);c.useEffect(()=>{a===2&&r!==null&&r>0?R():a===1&&(i(null),u(null),p(""))},[r,e,l,m,a,R]);const B=()=>o(2),K=()=>{o(1)},P=n!==void 0&&n>0&&r!==null&&r>0;return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50 py-12 sm:py-16",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsx("div",{className:"relative mb-8 pt-4",children:t.jsxs("div",{className:"relative flex items-center justify-center",children:[t.jsxs(A,{to:"/",className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center text-sm text-purple-600 hover:text-purple-800 transition-colors group py-2 pr-2 -ml-1 sm:ml-0",children:[t.jsx(q,{size:18,className:"mr-1.5 transition-transform group-hover:-translate-x-1"}),"Trang chá»§"]}),t.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-gray-800 text-center",children:"FI Calculator"})]})}),t.jsx("p",{className:"text-center text-gray-600 mb-10 text-sm sm:text-base",children:"KhÃ¡m phÃ¡ con sá»‘ má»¥c tiÃªu vÃ  lá»™ trÃ¬nh dá»± kiáº¿n Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™c láº­p tÃ i chÃ­nh. HÃ£y báº¯t Ä‘áº§u báº±ng cÃ¡ch nháº­p chi tiÃªu hÃ ng thÃ¡ng cá»§a báº¡n."}),t.jsx(z,{mode:"wait",children:a===1&&t.jsxs(D.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},exit:{opacity:0,x:30},transition:{duration:.3,ease:"easeInOut"},className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("span",{className:"bg-purple-600 text-white rounded-full h-8 w-8 flex items-center justify-center text-sm font-bold mr-3",children:"1"}),t.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-purple-700",children:"XÃ¡c Äá»‹nh Sá»‘ Tiá»n Má»¥c TiÃªu (FI)"})]}),t.jsx(M,{id:"monthlyExpenses",label:"Chi tiÃªu trung bÃ¬nh má»—i thÃ¡ng",value:n,onValueChange:d,icon:t.jsx(Q,{size:20,className:"text-purple-500"}),unit:"VNÄ",placeholder:"Nháº­p sá»‘ tiá»n (báº¯t buá»™c)",tooltip:"Tá»•ng sá»‘ tiá»n báº¡n chi tiÃªu cho táº¥t cáº£ cÃ¡c nhu cáº§u trong má»™t thÃ¡ng. Má»¥c nÃ y lÃ  báº¯t buá»™c.",isRequired:!0}),t.jsx(E,{id:"safeWithdrawalRate",label:"Tá»· lá»‡ rÃºt tiá»n an toÃ n (SWR)",value:f,onChange:v,icon:t.jsx($,{size:20,className:"text-purple-500"}),unit:"%",tooltip:"Tá»· lá»‡ % báº¡n dá»± Ä‘á»‹nh rÃºt tá»« quá»¹ FI má»—i nÄƒm Ä‘á»ƒ chi tiÃªu khi nghá»‰ hÆ°u. Quy táº¯c phá»• biáº¿n lÃ  4%.",min:1,max:10}),r!==null&&r>0&&t.jsxs("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg border border-purple-200 text-center",children:[t.jsx("p",{className:"text-sm text-purple-800",children:"Äá»ƒ duy trÃ¬ má»©c chi tiÃªu nÃ y, báº¡n cáº§n cÃ³ quá»¹ FI lÃ :"}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-purple-600 mt-1",children:w(r)})]}),t.jsxs("button",{onClick:B,disabled:!P,className:"mt-8 w-full flex items-center justify-center px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:["Tiáº¿p Tá»¥c Æ¯á»›c TÃ­nh Thá»i Gian ",t.jsx(G,{size:20,className:"ml-2"})]})]},"step1")}),t.jsx(z,{mode:"wait",children:a===2&&t.jsxs(D.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3,ease:"easeInOut"},className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("span",{className:"bg-green-600 text-white rounded-full h-8 w-8 flex items-center justify-center text-sm font-bold mr-3",children:"2"}),t.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-green-700",children:"Æ¯á»›c TÃ­nh Thá»i Gian Äáº¡t FI"})]}),t.jsx("div",{className:"mb-4 p-3 bg-indigo-50 rounded-md border border-indigo-200",children:t.jsxs("p",{className:"text-sm text-indigo-700",children:["Sá»‘ tiá»n má»¥c tiÃªu FI cá»§a báº¡n: ",t.jsx("span",{className:"font-bold",children:w(r)})]})}),t.jsx(M,{id:"currentSavings",label:"Sá»‘ tiá»n báº¡n Ä‘Ã£ tÃ­ch lÅ©y",value:e,onValueChange:N,icon:t.jsx(O,{size:20,className:"text-green-500"}),unit:"VNÄ",placeholder:"VÃ­ dá»¥: 50,000,000"}),t.jsx(M,{id:"monthlyContribution",label:"Tiáº¿t kiá»‡m/Ä‘áº§u tÆ° thÃªm má»—i thÃ¡ng",value:l,onValueChange:h,icon:t.jsx(Y,{size:20,className:"text-green-500"}),unit:"VNÄ",placeholder:"VÃ­ dá»¥: 5,000,000",min:0}),t.jsx(E,{id:"expectedReturn",label:"Lá»£i suáº¥t Ä‘áº§u tÆ° hÃ ng nÄƒm (sau láº¡m phÃ¡t)",value:m,onChange:I,icon:t.jsx(X,{size:20,className:"text-green-500"}),unit:"%",tooltip:"Lá»£i nhuáº­n thá»±c táº¿ hÃ ng nÄƒm sau khi Ä‘Ã£ trá»« Ä‘i láº¡m phÃ¡t. VÃ­ dá»¥: LÃ£i suáº¥t ká»³ vá»ng 10%, láº¡m phÃ¡t 3% => nháº­p 7%.",min:0,max:30}),s!==null&&r!==null&&r>0&&(e??0)<r&&t.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200 text-center",children:[t.jsx("p",{className:"text-sm text-green-800",children:"Thá»i gian dá»± kiáº¿n Ä‘á»ƒ Ä‘áº¡t Tá»± do TÃ i chÃ­nh:"}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-600 mt-1",children:s===1/0?"Ráº¥t lÃ¢u / KhÃ´ng thá»ƒ":J(s)}),x&&s!==1/0&&s>=0&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["TÆ°Æ¡ng Ä‘Æ°Æ¡ng vÃ o khoáº£ng: ",x]}),b!==null&&s!==1/0&&s>=0&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Tá»•ng sá»‘ tiá»n dá»± kiáº¿n khi Ä‘Ã³: ",w(b)]})]}),r!==null&&(e??0)>=r&&t.jsx("div",{className:"mt-6 p-4 bg-emerald-50 rounded-lg border border-emerald-300 text-center",children:t.jsx("p",{className:"text-lg font-semibold text-emerald-700",children:"ğŸ‰ ChÃºc má»«ng! Báº¡n Ä‘Ã£ Ä‘áº¡t Tá»± do TÃ i chÃ­nh!"})}),t.jsxs("button",{onClick:K,className:"mt-8 w-full flex items-center justify-center px-6 py-3 bg-gray-500 text-white font-semibold rounded-lg shadow-md hover:bg-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[t.jsx(H,{size:18,className:"mr-2"})," TÃ­nh toÃ¡n láº¡i / Quay láº¡i"]})]},"step2")})]}),t.jsx("div",{className:"mt-12 text-center text-xs text-gray-500 max-w-2xl mx-auto",children:t.jsxs("p",{children:[t.jsx("strong",{children:"LÆ°u Ã½:"})," CÃ¡c tÃ­nh toÃ¡n trÃªn chá»‰ mang tÃ­nh cháº¥t tham kháº£o vÃ  Æ°á»›c tÃ­nh dá»±a trÃªn cÃ¡c thÃ´ng sá»‘ báº¡n cung cáº¥p. Káº¿t quáº£ thá»±c táº¿ cÃ³ thá»ƒ khÃ¡c biá»‡t do biáº¿n Ä‘á»™ng thá»‹ trÆ°á»ng vÃ  cÃ¡c yáº¿u tá»‘ cÃ¡ nhÃ¢n. HÃ£y coi Ä‘Ã¢y lÃ  má»™t cÃ´ng cá»¥ há»— trá»£ láº­p káº¿ hoáº¡ch, khÃ´ng pháº£i lÃ  lá»i khuyÃªn tÃ i chÃ­nh chuyÃªn nghiá»‡p."]})})]})})};export{rt as default};
