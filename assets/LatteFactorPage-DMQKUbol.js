import{c as R,j as e,L as ee,r as j,B as te,m as z,K as ae,Q as ne}from"./index-BF0z3Gyh.js";import{A as se}from"./arrow-left-DVi92Pj8.js";import{P as re}from"./percent-DPsvK9fl.js";import{C as D,T as le}from"./triangle-alert-CIYORVCy.js";import{C as ie}from"./chevron-right-BlpiBE1b.js";import{R as ce,I as E}from"./refresh-cw-Il2mnZSH.js";import{Z as ue,T as oe}from"./zap-D_k41vuQ.js";import{W as he}from"./wallet-DISnujNS.js";import{T as X}from"./trending-up-Cjr9HqMi.js";import{S as de}from"./shield-check-WYQTb8oG.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ge=R("briefcase",xe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],pe=R("chart-no-axes-column",me);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ye=R("chevron-left",be);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}],["line",{x1:"12",x2:"12",y1:"16",y2:"16",key:"aqc6ln"}],["line",{x1:"12",x2:"12",y1:"8",y2:"8",key:"1mkcni"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ve=R("circle-divide",fe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Q=R("circle-help",ke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],je=R("list",Ne);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Se=R("settings-2",Te),S=(n,p=!0,i=!0)=>{if(n==null||isNaN(n))return p?"0 VNĐ":"0";const g={minimumFractionDigits:i?0:2,maximumFractionDigits:i?0:2},b=new Intl.NumberFormat("vi-VN",g).format(n);return p?`${b} VNĐ`:b},F=n=>{if(typeof n!="string"||n.trim()==="")return;const i=n.replace(/\./g,"").replace(/,/g,".");if(i==="")return;const g=parseFloat(i);return isNaN(g)?void 0:g},I=({id:n,label:p,value:i,onChange:g,icon:b,unit:C,placeholder:w,tooltip:$,min:h=0,max:T,step:y=1,isRequired:f,disabled:v=!1})=>{const[k,l]=j.useState(String(i));j.useEffect(()=>{const o=F(k);String(i)!==k&&(i!==o||isNaN(o)&&String(i)!=="")&&l(String(i))},[i]);const d=o=>{let x=o.target.value;const P=y!==void 0&&y<1||n.toLowerCase().includes("rate")||n.toLowerCase().includes("probability")||n.toLowerCase().includes("discount");let V="",B=!1;for(const _ of x)_>="0"&&_<="9"||P&&_==="."&&!B?(V+=_,_==="."&&(B=!0)):_==="-"&&V===""&&h!==void 0&&h<0&&(V+=_);x=V,l(x);const M=F(x);M!==void 0?g(M):x===""&&!f&&g(h)},L=()=>{let o=F(k);(o===void 0||isNaN(o))&&(o=h),o<h&&(o=h),T!==void 0&&o>T&&(o=T),l(String(o)),g(o)};return e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:n,className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[b&&e.jsx("span",{className:"mr-2 opacity-70",children:b}),p," ",f&&e.jsx("span",{className:"text-red-500 ml-0.5",children:"*"}),$&&e.jsxs("span",{className:"ml-1.5 group relative",children:[e.jsx(E,{size:14,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 cursor-help"}),e.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-max max-w-md p-2.5 text-xs text-white bg-slate-800 dark:bg-slate-700 rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20 shadow-lg leading-relaxed",children:$})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",inputMode:"decimal",id:n,value:k,onChange:d,onBlur:L,placeholder:w,disabled:v,className:`w-full px-4 py-2.5 border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors text-gray-800 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-lg ${v?"bg-gray-100 dark:bg-gray-800 cursor-not-allowed":"border-gray-300 dark:border-gray-600"}`}),C&&e.jsx("span",{className:`absolute right-4 top-1/2 -translate-y-1/2 text-sm pointer-events-none ${v?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:C})]})]})},H=({id:n,label:p,value:i,onValueChange:g,icon:b,unit:C,placeholder:w,tooltip:$,min:h=0,isRequired:T,disabled:y=!1})=>{const[f,v]=j.useState(i!==void 0?S(i,!1):"");j.useEffect(()=>{const d=F(f);(i!==d||i===void 0&&f!=="")&&v(i!==void 0?S(i,!1):"")},[i]);const k=d=>{const L=d.target.value;if(L===""){v(""),g(void 0);return}const o=F(L);if(o!==void 0)v(S(o,!1)),g(o);else{const x=L.replace(/[^0-9]/g,"");v(x)}},l=()=>{let d=F(f);d===void 0?T?(d=h,v(S(d,!1)),g(d)):(g(void 0),v("")):(d<h&&(d=h),v(S(d,!1)),g(d))};return e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:n,className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[b&&e.jsx("span",{className:"mr-2 opacity-70",children:b}),p," ",T&&e.jsx("span",{className:"text-red-500 ml-0.5",children:"*"}),$&&e.jsxs("span",{className:"ml-1.5 group relative",children:[e.jsx(E,{size:14,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 cursor-help"}),e.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-max max-w-md p-2.5 text-xs text-white bg-slate-800 dark:bg-slate-700 rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20 shadow-lg leading-relaxed",children:$})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",inputMode:"numeric",id:n,value:f,onChange:k,onBlur:l,placeholder:w,disabled:y,className:`w-full px-4 py-2.5 border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors text-gray-800 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-lg ${y?"bg-gray-100 dark:bg-gray-800 cursor-not-allowed":"border-gray-300 dark:border-gray-600"}`}),C&&e.jsx("span",{className:`absolute right-4 top-1/2 -translate-y-1/2 text-sm pointer-events-none ${y?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:C})]})]})},G={name:"",initialInvestment:void 0,years:1,probabilitySuccess:70,optionType:"manual_entry",valueIfSuccess:void 0,valueIfFailure:0,annualGrowthRateSuccess:7,valueRetentionFailure:90,savingsInterestRate:5},we=[{id:"gold",name:"Vàng",annualReturnSuggestion:5,note:"Lợi nhuận tham khảo trung bình dài hạn. Giá vàng có thể biến động mạnh. (Đây là VÍ DỤ, tự nghiên cứu thêm)"},{id:"vnindex",name:"Chứng khoán (VN-Index)",annualReturnSuggestion:12,note:"Lợi nhuận tham khảo trung bình dài hạn, rủi ro và biến động cao. (Đây là VÍ DỤ, tự nghiên cứu thêm)"},{id:"gov_bond",name:"Trái phiếu Chính phủ (10 năm)",annualReturnSuggestion:4,note:"Rủi ro thấp hơn. Lãi suất thực tế thay đổi theo thị trường. (Đây là VÍ DỤ, tự nghiên cứu thêm)"}],Ve=()=>{const[n,p]=j.useState(1),[i,g]=j.useState({...G,name:"Lựa chọn A",optionType:"asset_growth"}),[b,C]=j.useState({...G,name:"Lựa chọn B",optionType:"project_course"}),[w,$]=j.useState(7),[h,T]=j.useState(null),[y,f]=j.useState(null),[v,k]=j.useState(""),[l,d]=j.useState({}),[L,o]=j.useState(null),x=(t,s)=>a=>{t(c=>({...c,[s]:a}))},P=t=>{if(t.initialInvestment===void 0||t.initialInvestment<0||t.years===void 0||t.years<=0)return{finalValueSuccess:void 0,finalValueFailure:void 0};const s=t.initialInvestment,a=t.years;switch(t.optionType){case"asset_growth":const c=(t.annualGrowthRateSuccess??0)/100,m=s*Math.pow(1+c,a),u=s*((t.valueRetentionFailure??0)/100);return{finalValueSuccess:m,finalValueFailure:u};case"savings":const r=(t.savingsInterestRate??0)/100;return{finalValueSuccess:s*Math.pow(1+r,a),finalValueFailure:s};case"project_course":case"manual_entry":default:const A=typeof t.valueIfSuccess=="number"?t.valueIfSuccess:void 0,q=typeof t.valueIfFailure=="number"?t.valueIfFailure:void 0;return{finalValueSuccess:A,finalValueFailure:q}}},V=(t,s)=>{const a={};let c=!0;t.name.trim()||(a[`${s}_name`]="Tên không được trống.",c=!1),(t.initialInvestment===void 0||t.initialInvestment<0)&&(a[`${s}_initialInvestment`]="Vốn đầu tư phải >= 0.",c=!1),(t.years===void 0||t.years<=0)&&(a[`${s}_years`]="Thời gian phải > 0.",c=!1),(t.probabilitySuccess===void 0||t.probabilitySuccess<0||t.probabilitySuccess>100)&&(a[`${s}_probabilitySuccess`]="Khả năng thành công từ 0-100%.",c=!1);const m=P(t);switch((m.finalValueSuccess===void 0||m.finalValueSuccess<0)&&(a[`${s}_valueIfSuccess_derived`]="Thông tin cho kịch bản 'Thuận Lợi' chưa đủ hoặc không hợp lệ.",c=!1),(m.finalValueFailure===void 0||m.finalValueFailure<0)&&(a[`${s}_valueIfFailure_derived`]="Thông tin cho kịch bản 'Không Thuận Lợi' chưa đủ hoặc không hợp lệ.",c=!1),t.optionType){case"asset_growth":(t.annualGrowthRateSuccess===void 0||t.annualGrowthRateSuccess<-100)&&(a[`${s}_annualGrowthRateSuccess`]="Tỷ lệ tăng trưởng (TC) không hợp lệ.",c=!1),(t.valueRetentionFailure===void 0||t.valueRetentionFailure<0||t.valueRetentionFailure>200)&&(a[`${s}_valueRetentionFailure`]="% Giá trị còn lại (TB) phải từ 0-200.",c=!1);break;case"savings":(t.savingsInterestRate===void 0||t.savingsInterestRate<0)&&(a[`${s}_savingsInterestRate`]="Lãi suất tiết kiệm phải >= 0.",c=!1);break}return d(u=>{const r={...u};return Object.keys(u).forEach(N=>{N.startsWith(s)&&delete r[N]}),{...r,...a}}),c},B=(t,s)=>{const a=P(t);if(t.initialInvestment===void 0||a.finalValueSuccess===void 0||a.finalValueFailure===void 0||t.years<=0)return null;const{finalValueSuccess:c,finalValueFailure:m}=a,u=t.probabilitySuccess/100,r=1-u,N=s/100;if(N<-1&&1+N<=0)return console.error("Tỷ lệ chiết khấu quá thấp, có thể dẫn đến lỗi tính toán."),null;const A=c/Math.pow(1+N,t.years),q=m/Math.pow(1+N,t.years),K=A*u+q*r-t.initialInvestment;return{finalValueSuccess:c,finalValueFailure:m,expectedEndValue:c*u+m*r,expectedNetPresentValue:K}},M=t=>{(t<n||n===4&&t<=3||t===n)&&(n===4&&t<4&&(T(null),f(null),k("")),p(t))},_=()=>{d({}),n===1?V(i,"optionA")&&p(2):n===2&&V(b,"optionB")&&p(3)},W=()=>{n===4&&(T(null),f(null),k("")),p(t=>Math.max(1,t-1))},O=()=>{d(u=>{const r={...u};return delete r.discountRate,r});let t=V(i,"optionA"),s=V(b,"optionB"),a=!0;if((w===void 0||w<-100)&&(d(u=>({...u,discountRate:"Mức lời mong đợi mỗi năm không hợp lệ."})),a=!1),!t||!s||!a){T(null),f(null),k("Vui lòng kiểm tra lại các thông tin đã nhập ở các bước trước."),p(t?s?3:2:1);return}const c=B(i,w),m=B(b,w);if(T(c),f(m),c&&m){let u="";const r=c.expectedNetPresentValue,N=m.expectedNetPresentValue;Math.abs(r-N)<.01?u=`Cả hai lựa chọn có "Ước Tính Lời/Lỗ Thực Tế" gần như tương đương (khoảng ${S(r)}). Hãy xem xét các yếu tố phi tài chính khác.`:r>N?u=`Lựa chọn A ("${i.name}") có "Ước Tính Lời/Lỗ Thực Tế" cao hơn. Nếu chọn B, bạn có thể bỏ lỡ khoảng ${S(r-N)} lợi ích thực dự kiến từ A.`:u=`Lựa chọn B ("${b.name}") có "Ước Tính Lời/Lỗ Thực Tế" cao hơn. Nếu chọn A, bạn có thể bỏ lỡ khoảng ${S(N-r)} lợi ích thực dự kiến từ B.`,k(u),p(4)}else k("Không thể tính toán do thiếu thông tin hoặc thông tin không hợp lệ.")},Z=()=>{g({...G,name:"Lựa chọn A",optionType:"asset_growth"}),C({...G,name:"Lựa chọn B",optionType:"project_course"}),$(7),T(null),f(null),k(""),d({}),p(1)},J=()=>e.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-4 mb-10",children:[{num:1,label:"Lựa chọn A"},{num:2,label:"Lựa chọn B"},{num:3,label:"Mức Lời Mong Đợi"},{num:4,label:"Kết Quả"}].map(t=>e.jsxs("div",{className:`flex flex-col items-center w-1/4 sm:w-auto ${t.num<n||n===4&&t.num<=3||t.num===n?"cursor-pointer hover:opacity-80":"cursor-default opacity-50"}`,onClick:()=>t.num<n||n===4&&t.num<=3?M(t.num):void 0,children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300
                        ${n===t.num?"bg-purple-600 border-purple-600 text-white scale-110":n>t.num?"bg-green-500 border-green-500 text-white":"bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400"}`,children:n>t.num?e.jsx(D,{size:18}):t.num}),e.jsx("span",{className:`mt-2 text-xs sm:text-sm text-center transition-colors duration-300 ${n>=t.num?"text-purple-600 dark:text-purple-400 font-semibold":"text-gray-500 dark:text-gray-400"}`,children:t.label})]},t.num))}),Y=(t,s)=>{t(a=>({...a,annualGrowthRateSuccess:s})),o(null)},U=(t,s,a,c)=>{let m=`Tổng số tiền bạn ước tính sẽ có được vào cuối ${t.years} năm NẾU lựa chọn này THUẬN LỢI. Đây là giá trị tương lai, chưa trừ Vốn Đầu Tư Ban Đầu.`;t.optionType==="project_course"&&(m=`Với dự án/khóa học, hãy ước tính TỔNG LỢI ÍCH TÀI CHÍNH RÒNG (ví dụ: thu nhập tăng thêm sau khi trừ các chi phí liên quan nếu có, giá trị ước tính của doanh nghiệp/kỹ năng...) bạn nhận được sau ${t.years} năm, NẾU thành công. Con số này là giá trị tương lai, chưa trừ Vốn Đầu Tư Ban Đầu.`);let u=`Tổng số tiền bạn ước tính sẽ còn lại (hoặc thu về được) vào cuối ${t.years} năm NẾU lựa chọn này KHÔNG THUẬN LỢI. Có thể là 0 nếu mất trắng.`;return t.optionType==="project_course"?u=`Nếu dự án/khóa học không mang lại lợi ích tài chính như kỳ vọng sau ${t.years} năm, giá trị thu về có thể là 0 VNĐ, hoặc số tiền bạn có thể thu hồi được từ tài sản còn lại của dự án (nếu có).`:t.optionType==="asset_growth"?u=`Nếu thị trường diễn biến XẤU, bạn ước tính tài sản của mình (dựa trên % Vốn Gốc Còn Lại bạn nhập) sẽ có giá trị là bao nhiêu sau ${t.years} năm?`:t.optionType==="savings"&&(u="Với gửi tiết kiệm, trường hợp thất bại (rất hiếm) thường đồng nghĩa với việc bạn nhận lại được Vốn Đầu Tư Ban Đầu (do có bảo hiểm tiền gửi ở mức độ nhất định)."),e.jsxs(z.div,{initial:{opacity:0,x:a==="optionA"&&n===1||a==="optionB"&&n===2?-50:0},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.4,ease:"easeInOut"},className:"bg-white dark:bg-gray-800 p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-semibold text-purple-700 dark:text-purple-400 mb-6 flex items-center",children:[a==="optionA"?e.jsx(ue,{size:24,className:"mr-3 text-blue-500"}):e.jsx(ge,{size:24,className:"mr-3 text-green-500"}),"Thông Tin ",c]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:`${a}_name`,className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 block",children:["Tên Lựa chọn/Dự án ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:`${a}_name`,value:t.name,onChange:r=>x(s,"name")(r.target.value),placeholder:`Ví dụ: ${c}`,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-800 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700 text-lg"}),l[`${a}_name`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`${a}_name`]})]}),e.jsx(H,{id:`${a}_initialInvestment`,label:"Vốn Đầu Tư Ban Đầu",value:t.initialInvestment,onValueChange:r=>x(s,"initialInvestment")(r),icon:e.jsx(he,{size:20,className:"text-purple-500 dark:text-purple-400"}),unit:"VNĐ",placeholder:"Số tiền bạn bỏ ra",tooltip:"Tổng số tiền bạn cần bỏ ra ngay từ đầu cho lựa chọn này.",isRequired:!0}),l[`${a}_initialInvestment`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_initialInvestment`]}),e.jsx(I,{id:`${a}_years`,label:"Thời Gian Xem Xét",value:t.years,onChange:r=>x(s,"years")(r),icon:e.jsx(ae,{size:20,className:"text-purple-500 dark:text-purple-400"}),unit:"năm",placeholder:"Số năm",tooltip:"Khoảng thời gian bạn dự kiến nắm giữ đầu tư hoặc để dự án này cho ra kết quả cuối cùng.",min:.1,step:.1,isRequired:!0}),l[`${a}_years`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_years`]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:`${a}_optionType`,className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[e.jsx(Se,{size:20,className:"mr-2 opacity-70 text-purple-500 dark:text-purple-400"})," Loại Hình Lựa Chọn ",e.jsx("span",{className:"text-red-500 ml-0.5",children:"*"}),e.jsxs("span",{className:"ml-1.5 group relative",children:[e.jsx(E,{size:14,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 cursor-help"}),e.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-max max-w-xs p-2.5 text-xs text-white bg-slate-800 dark:bg-slate-700 rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20 shadow-lg leading-relaxed",children:"Chọn loại hình phù hợp để công cụ gợi ý các trường nhập liệu ước tính giá trị thu về."})]})]}),e.jsxs("select",{id:`${a}_optionType`,value:t.optionType,onChange:r=>x(s,"optionType")(r.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-800 dark:text-gray-100 bg-white dark:bg-gray-700 text-lg",children:[e.jsx("option",{value:"asset_growth",children:"Đầu tư Tăng trưởng Tài sản (Vàng, Cổ phiếu, BĐS...)"}),e.jsx("option",{value:"project_course",children:"Dự án Kinh doanh / Khóa học / Kỹ năng"}),e.jsx("option",{value:"savings",children:"Gửi Tiết kiệm Ngân hàng"}),e.jsx("option",{value:"manual_entry",children:"Khác (Tự nhập giá trị cuối kỳ)"})]})]}),t.optionType==="asset_growth"&&e.jsxs("div",{className:"pl-4 border-l-2 border-blue-200 dark:border-blue-700",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-600 dark:text-gray-400 mt-1 mb-3",children:"Ước Tính Cho Đầu Tư Tăng Trưởng Tài Sản"}),e.jsx(I,{id:`${a}_annualGrowthRateSuccess`,label:"Tăng Trưởng Hàng Năm Ước Tính (Nếu Thuận Lợi)",value:t.annualGrowthRateSuccess??7,onChange:r=>x(s,"annualGrowthRateSuccess")(r),icon:e.jsx(X,{size:20,className:"text-green-500"}),unit:"%",placeholder:"Ví dụ: 10",tooltip:"Tỷ lệ % giá trị tài sản ước tính tăng lên mỗi năm NẾU kịch bản TỐT xảy ra. Công cụ sẽ dùng tỷ lệ này để tính giá trị cuối kỳ.",min:-50,max:100,step:.1,isRequired:!0}),l[`${a}_annualGrowthRateSuccess`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_annualGrowthRateSuccess`]}),e.jsx("div",{className:"mb-4 text-right",children:e.jsxs("button",{type:"button",onClick:()=>o(a),className:"text-xs text-purple-600 dark:text-purple-400 hover:underline",children:[e.jsx(je,{size:14,className:"inline mr-1"})," Xem gợi ý % tăng trưởng"]})}),L===a&&e.jsxs(z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 p-3 border border-gray-200 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-xs",children:[e.jsx("p",{className:"font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Gợi ý % tăng trưởng/năm (tham khảo):"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-600 dark:text-gray-400",children:we.map(r=>e.jsxs("li",{children:[e.jsxs("button",{type:"button",className:"text-blue-600 dark:text-blue-400 hover:underline",onClick:()=>Y(s,r.annualReturnSuggestion),children:[r.name,": ",`${r.annualReturnSuggestion}%`]}),e.jsxs("span",{className:"ml-1 text-gray-500 dark:text-gray-500",children:["- ",r.note]})]},r.id))}),e.jsx("p",{className:"mt-2 text-red-600 dark:text-red-400 text-xs italic",children:"Lưu ý: Các con số này chỉ mang tính chất tham khảo lịch sử/ví dụ, không đảm bảo lợi nhuận tương lai. Hãy tự nghiên cứu kỹ lưỡng."})]}),e.jsx(I,{id:`${a}_valueRetentionFailure`,label:"Giá Trị Vốn Gốc Còn Lại (Nếu Không Thuận Lợi)",value:t.valueRetentionFailure??90,onChange:r=>x(s,"valueRetentionFailure")(r),icon:e.jsx(de,{size:20,className:"text-orange-500"}),unit:"% Vốn Gốc",placeholder:"Ví dụ: 80",tooltip:"Nếu thị trường diễn biến XẤU, bạn ước tính tài sản của mình còn lại bao nhiêu PHẦN TRĂM so với vốn đầu tư ban đầu? (Ví dụ: 90% nghĩa là mất 10% vốn, 100% là huề vốn, 0% là mất trắng hoàn toàn). Công cụ sẽ dùng tỷ lệ này để tính giá trị cuối kỳ nếu không thuận lợi.",min:0,max:200,step:1,isRequired:!0}),l[`${a}_valueRetentionFailure`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_valueRetentionFailure`]}),l[`${a}_valueIfSuccess_derived`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`${a}_valueIfSuccess_derived`]}),l[`${a}_valueIfFailure_derived`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`${a}_valueIfFailure_derived`]})]}),t.optionType==="savings"&&e.jsxs("div",{className:"pl-4 border-l-2 border-blue-200 dark:border-blue-700",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-600 dark:text-gray-400 mt-1 mb-3",children:"Ước Tính Cho Gửi Tiết Kiệm"}),e.jsx(I,{id:`${a}_savingsInterestRate`,label:"Lãi Suất Tiết Kiệm Hàng Năm",value:t.savingsInterestRate??5,onChange:r=>x(s,"savingsInterestRate")(r),icon:e.jsx(ne,{size:20,className:"text-blue-500"}),unit:"%",placeholder:"Lãi suất ngân hàng",tooltip:"Lãi suất tiết kiệm cố định hàng năm ngân hàng trả cho bạn. Công cụ sẽ dùng lãi suất này để tính giá trị cuối kỳ. Với lựa chọn này, khả năng 'Thuận Lợi' xảy ra thường rất cao (ví dụ 99.9%) và giá trị nếu 'Không Thuận Lợi' thường là vốn gốc (do có bảo hiểm tiền gửi ở mức độ nhất định).",min:0,max:20,step:.1,isRequired:!0}),l[`${a}_savingsInterestRate`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_savingsInterestRate`]}),l[`${a}_valueIfSuccess_derived`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:l[`${a}_valueIfSuccess_derived`]})]}),(t.optionType==="project_course"||t.optionType==="manual_entry")&&e.jsxs("div",{className:"pl-4 border-l-2 border-blue-200 dark:border-blue-700",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-600 dark:text-gray-400 mt-1 mb-3",children:"Ước Tính Thủ Công Giá Trị Cuối Kỳ"}),e.jsx(H,{id:`${a}_valueIfSuccess`,label:"Tổng Số Tiền Ước Tính Nhận Được Cuối Kỳ (Nếu Thuận Lợi)",value:t.valueIfSuccess,onValueChange:r=>x(s,"valueIfSuccess")(r),icon:e.jsx(X,{size:20,className:"text-green-500"}),unit:"VNĐ",placeholder:"Tổng giá trị cuối kỳ",tooltip:m,isRequired:!0}),l[`${a}_valueIfSuccess_derived`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_valueIfSuccess_derived`]}),e.jsx(H,{id:`${a}_valueIfFailure`,label:"Tổng Số Tiền Ước Tính Nhận Được Cuối Kỳ (Nếu Không Thuận Lợi)",value:t.valueIfFailure,onValueChange:r=>x(s,"valueIfFailure")(r),icon:e.jsx(le,{size:20,className:"text-red-500"}),unit:"VNĐ",placeholder:"Giá trị nếu không như ý",tooltip:u,isRequired:!0}),l[`${a}_valueIfFailure_derived`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_valueIfFailure_derived`]})]}),e.jsxs("div",{className:"mt-6 border-t dark:border-gray-700 pt-4",children:[e.jsx(I,{id:`${a}_probabilitySuccess`,label:"Khả Năng Kịch Bản 'Thuận Lợi' Xảy Ra",value:t.probabilitySuccess,onChange:r=>x(s,"probabilitySuccess")(r),icon:e.jsx(oe,{size:20,className:"text-teal-500"}),unit:"%",placeholder:"0-100",tooltip:"Bạn nghĩ cơ hội để lựa chọn này diễn ra tốt đẹp và mang lại kết quả 'Thuận Lợi' (với các thông số giá trị bạn đã nhập ở trên) là bao nhiêu phần trăm (từ 0 đến 100%)? Kịch bản 'Không Thuận Lợi' sẽ có khả năng xảy ra là (100% - con số này).",min:0,max:100,step:1,isRequired:!0}),l[`${a}_probabilitySuccess`]&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l[`${a}_probabilitySuccess`]})]})]},a)};return e.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4 sm:px-0",children:[J(),e.jsxs(te,{mode:"wait",children:[n===1&&U(i,g,"optionA","Lựa Chọn A"),n===2&&U(b,C,"optionB","Lựa Chọn B"),n===3&&e.jsxs(z.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.4,ease:"easeInOut"},className:"bg-white dark:bg-gray-800 p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-semibold text-purple-700 dark:text-purple-400 mb-6 flex items-center",children:[e.jsx(re,{size:24,className:"mr-3 text-purple-500 dark:text-purple-400"}),"Thông Số Chung Để So Sánh"]}),e.jsx(I,{id:"discountRate",label:"Mức Lời Bạn Mong Đợi Mỗi Năm (Để So Sánh)",value:w,onChange:$,icon:e.jsx(Q,{size:20,className:"text-purple-500 dark:text-purple-400"}),unit:"%",placeholder:"Ví dụ: 7",tooltip:"Đây là mức lợi nhuận TỐI THIỂU bạn muốn có từ một khoản đầu tư tương tự trong một năm. Nếu bạn có thể gửi tiết kiệm được 6%/năm một cách an toàn, bạn có thể muốn một dự án rủi ro hơn phải mang lại nhiều hơn, ví dụ 10% hay 15%. Con số này giúp công cụ đánh giá xem lợi nhuận từ các lựa chọn của bạn trong tương lai thực sự 'đáng giá' bao nhiêu ở thời điểm hiện tại.",min:-20,max:100,step:.1,isRequired:!0}),l.discountRate&&e.jsx("p",{className:"text-red-500 text-xs mt-[-15px] mb-[15px]",children:l.discountRate})]},"step3"),n===4&&h&&y&&e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeInOut"},className:"bg-white dark:bg-gray-800 p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 dark:text-gray-100 text-center mb-6 flex items-center justify-center",children:[e.jsx(pe,{size:28,className:"mr-3 text-purple-600 dark:text-purple-400"})," Kết Quả Phân Tích Chi Tiết"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[{option:i,result:h,title:"Lựa Chọn A",borderColor:"border-blue-300 dark:border-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/30",textColor:"text-blue-700 dark:text-blue-300",highlightColor:"text-blue-600 dark:text-blue-400"},{option:b,result:y,title:"Lựa Chọn B",borderColor:"border-green-300 dark:border-green-600",bgColor:"bg-green-50 dark:bg-green-900/30",textColor:"text-green-700 dark:text-green-300",highlightColor:"text-green-600 dark:text-green-400"}].map(t=>{const s=P(t.option);return e.jsxs("div",{className:`p-4 rounded-lg border ${t.borderColor} ${t.bgColor}`,children:[e.jsx("h4",{className:`text-lg font-semibold ${t.textColor} mb-2`,children:t.option.name||t.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vốn đầu tư: ",S(t.option.initialInvestment)]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Thời gian: ",t.option.years," năm"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Giá trị nếu thuận lợi: ",S(s==null?void 0:s.finalValueSuccess)," (",t.option.probabilitySuccess,"%)"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Giá trị nếu không thuận lợi: ",S(s==null?void 0:s.finalValueFailure)," (",100-t.option.probabilitySuccess,"%)"]}),e.jsxs("p",{className:"font-bold mt-2 text-gray-800 dark:text-gray-100",children:["Ước Tính Lời/Lỗ Thực Tế (ENPV): ",e.jsx("span",{className:t.highlightColor,children:S(t.result.expectedNetPresentValue)})]})]},t.title)})}),e.jsxs("div",{className:`p-4 rounded-lg border text-center mt-4 ${h.expectedNetPresentValue&&y.expectedNetPresentValue&&Math.abs(h.expectedNetPresentValue-y.expectedNetPresentValue)<.01?"bg-gray-100 dark:bg-gray-700/40 border-gray-300 dark:border-gray-600":h.expectedNetPresentValue>y.expectedNetPresentValue?"bg-blue-50 dark:bg-blue-900/40 border-blue-300 dark:border-blue-600":"bg-green-50 dark:bg-green-900/40 border-green-300 dark:border-green-600"}`,children:[e.jsxs("h4",{className:"text-lg font-semibold mb-2 flex items-center justify-center text-gray-800 dark:text-gray-100",children:[h.expectedNetPresentValue&&y.expectedNetPresentValue&&Math.abs(h.expectedNetPresentValue-y.expectedNetPresentValue)<.01?e.jsx(Q,{size:22,className:"mr-2 text-gray-600 dark:text-gray-300"}):h.expectedNetPresentValue>y.expectedNetPresentValue?e.jsx(D,{size:22,className:"mr-2 text-blue-600 dark:text-blue-400"}):e.jsx(D,{size:22,className:"mr-2 text-green-600 dark:text-green-400"})," Gợi Ý Dựa Trên Phân Tích Tài Chính"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:v})]})]},"step4")]}),e.jsxs("div",{className:"mt-8 flex flex-wrap justify-between items-center gap-4",children:[n>1&&e.jsxs("button",{onClick:W,className:"px-6 py-3 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-lg shadow hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors flex items-center text-base",children:[" ",e.jsx(ye,{size:20,className:"mr-1.5"})," Quay Lại "]}),e.jsx("div",{className:"flex-grow hidden sm:block"}),n<3&&e.jsxs("button",{onClick:_,className:"w-full sm:w-auto px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors flex items-center justify-center text-base disabled:opacity-50 disabled:cursor-not-allowed",children:[" Tiếp Theo ",e.jsx(ie,{size:20,className:"ml-1.5"})," "]}),n===3&&e.jsxs("button",{onClick:O,className:"w-full sm:w-auto px-8 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 text-lg flex items-center justify-center",children:[" ",e.jsx(ve,{size:20,className:"mr-2"})," Xem Kết Quả Phân Tích "]}),n===4&&e.jsxs("button",{onClick:Z,className:"w-full sm:w-auto px-8 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 text-lg flex items-center justify-center",children:[" ",e.jsx(ce,{size:20,className:"mr-2"})," Phân Tích Lựa Chọn Khác "]})]}),e.jsxs("div",{className:"mt-12 text-xs text-gray-500 dark:text-gray-400 max-w-3xl mx-auto",children:[e.jsx("p",{className:"font-bold",children:"Lưu ý quan trọng:"}),e.jsxs("ul",{className:"list-disc list-inside text-left mt-2 space-y-1 leading-relaxed",children:[e.jsx("li",{children:'Công cụ này tính toán dựa trên các con số và ước tính do bạn cung cấp. Kết quả ("Ước Tính Lời/Lỗ Thực Tế" - ENPV) là một chỉ số tham khảo.'}),e.jsx("li",{children:'"Mức Lời Bạn Mong Đợi Mỗi Năm" là một yếu tố quan trọng. Tỷ lệ này càng cao, các dự án có lợi nhuận xa trong tương lai hoặc rủi ro cao sẽ có ENPV thấp hơn.'}),e.jsx("li",{children:"Việc ước tính các giá trị và xác suất là chủ quan. Hãy cố gắng đưa ra con số thực tế nhất có thể dựa trên thông tin và phân tích của bạn."}),e.jsx("li",{children:"Luôn xem xét các yếu tố phi tài chính (đam mê, kỹ năng, chiến lược dài hạn, tác động xã hội...) mà công cụ này không thể đo lường."}),e.jsx("li",{children:"Đây không phải là lời khuyên đầu tư. Hãy tìm hiểu kỹ hoặc tham vấn chuyên gia cho các quyết định tài chính quan trọng."})]})]})]})},Ge=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 sm:py-12 text-gray-900 dark:text-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"max-w-3xl mx-auto relative mb-8",children:e.jsxs("div",{className:"relative flex items-center justify-center py-4",children:[e.jsxs(ee,{to:"/",className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center text-sm text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 transition-colors group py-2 pr-2 -ml-1 sm:ml-0",children:[e.jsx(se,{size:18,className:"mr-1.5 transition-transform group-hover:-translate-x-1"}),"Trang chủ"]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-gray-800 dark:text-gray-100 text-center",children:"Phân Tích & So Sánh Lựa Chọn"})]})}),e.jsx(Ve,{})]})});export{Ge as default};
