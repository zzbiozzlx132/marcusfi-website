import{r as i,u as w,j as e,L as o}from"./index-C1K0Z9Pz.js";import{a as L}from"./axios-B2YOV0tR.js";const A="https://productive-birthday-b808dc4c19.strapiapp.com/api",S="articles",B=()=>{const[x,d]=i.useState([]),[m,g]=i.useState(!0),[u,c]=i.useState(null),{language:n}=w(),h={en:{title:"Our Blog",subtitle:"Latest news and insightful articles",readMore:"Read More",noArticles:"No articles found."},vi:{title:"Bài Viết",subtitle:"Tin tức và các bài viết chuyên sâu mới nhất",readMore:"Đọc thêm",noArticles:"Không tìm thấy bài viết."}},l=h[n]||h.en;if(i.useEffect(()=>{(async()=>{g(!0),c(null);try{const r=`${A}/${S}?sort=publishedAt:desc&locale=${n}&populate=*`,s=await L.get(r);s.data&&Array.isArray(s.data.data)?d(s.data.data):(d([]),c("Invalid data structure."))}catch(a){c("Failed to fetch articles."),console.error(a)}finally{g(!1)}})()},[n]),m)return e.jsx("div",{className:"text-center py-20",children:"Loading posts..."});if(u)return e.jsx("div",{className:"text-center py-20 text-red-600",children:u});if(x.length===0&&!m)return e.jsx(e.Fragment,{children:e.jsx("section",{className:"py-12 bg-gray-50 sm:py-16 lg:py-20",children:e.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold leading-tight text-gray-900 sm:text-4xl xl:text-5xl",children:l.title}),e.jsx("p",{className:"mt-4 text-base leading-7 text-gray-600 sm:mt-8 max-w-2xl mx-auto",children:l.subtitle})]}),e.jsx("p",{className:"text-center text-gray-500 mt-12 text-lg",children:l.noArticles})]})})});const N=(t,a)=>{var r,s;if(t)return t.formats&&((r=t.formats[a])!=null&&r.url)?(s=t.formats[a])==null?void 0:s.url:t.url};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"py-12 bg-gray-50 sm:py-16 lg:py-20",children:e.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold leading-tight text-gray-900 sm:text-4xl xl:text-5xl",children:l.title}),e.jsx("p",{className:"mt-4 text-base leading-7 text-gray-600 sm:mt-8 max-w-2xl mx-auto",children:l.subtitle})]}),e.jsx("div",{className:"grid grid-cols-1 gap-8 sm:gap-10 md:grid-cols-2 lg:grid-cols-3",children:x.map(t=>{var s,p,f,j,y,v,b;const a=N(t.cover,"medium"),r=((s=t.cover)==null?void 0:s.alternativeText)||t.title||"Blog post image";return e.jsxs("div",{className:"flex flex-col overflow-hidden bg-white rounded-xl shadow-lg transition-all duration-300 ease-in-out hover:shadow-2xl hover:-translate-y-1.5",children:[e.jsx(o,{to:`/blog/${t.slug}`,className:"block group",children:e.jsx("div",{className:"h-56 w-full overflow-hidden bg-gray-100",children:a?e.jsx("img",{className:"object-cover w-full h-full group-hover:scale-105 transition-transform duration-300",src:a,alt:r,loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"No Image"})})}),e.jsxs("div",{className:"flex flex-col justify-between flex-1 p-5 sm:p-6",children:[e.jsxs("div",{className:"flex-1",children:[((j=(f=(p=t.category)==null?void 0:p.data)==null?void 0:f.attributes)==null?void 0:j.name)&&e.jsx("p",{className:"text-xs font-semibold tracking-wider text-[#6e00ff] uppercase mb-2",children:e.jsx(o,{to:`/category/${t.category.data.attributes.slug}`,className:"hover:underline",children:t.category.data.attributes.name})}),e.jsx("h3",{className:"mt-1 text-lg sm:text-xl font-semibold leading-tight text-gray-900",children:e.jsx(o,{to:`/blog/${t.slug}`,className:"hover:text-[#8f00ff] transition-colors",children:t.title})}),t.description&&e.jsx("p",{className:"mt-3 text-sm text-gray-600 line-clamp-3",children:t.description})]}),e.jsx("div",{className:"mt-6 flex items-center justify-between",children:e.jsxs(o,{to:`/blog/${t.slug}`,className:"inline-flex items-center text-sm font-medium text-[#6e00ff] hover:text-[#8f00ff] transition-colors",children:[l.readMore,e.jsx("svg",{className:"w-4 h-4 ml-1.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})}),e.jsx("p",{className:"text-gray-400 text-xs mt-3 pt-3 border-t border-gray-100",children:new Date(t.publishedAt).toLocaleDateString(n==="vi"?"vi-VN":"en-US",{year:"numeric",month:"long",day:"numeric"})}),((b=(v=(y=t.author)==null?void 0:y.data)==null?void 0:v.attributes)==null?void 0:b.name)&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["By: ",t.author.data.attributes.name]})]})]},t.id)})})]})})})};export{B as default};
