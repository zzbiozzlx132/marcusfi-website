import{c as V,r as d,j as e,L as X,B as K,m as F}from"./index-BF0z3Gyh.js";import{A as Q}from"./arrow-left-DVi92Pj8.js";import{W as Y}from"./wallet-DISnujNS.js";import{C as q}from"./chevron-right-BlpiBE1b.js";import{T as U}from"./trending-up-Cjr9HqMi.js";import{R as Z,I as ee}from"./refresh-cw-Il2mnZSH.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],se=V("house",te);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ae=V("landmark",ne);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],le=V("shopping-cart",re),k=(l,c=!0)=>{if(l==null||isNaN(l))return c?"0 VNĐ":"0";const s=new Intl.NumberFormat("vi-VN").format(l);return c?`${s} VNĐ`:s},O=l=>{const c=l.replace(/[^0-9]/g,"");if(c==="")return;const s=parseFloat(c);return isNaN(s)?void 0:s},oe=({id:l,label:c,value:s,onValueChange:g,icon:p,unit:b,placeholder:j,tooltip:v,min:a=0,isRequired:i})=>{const[n,h]=d.useState(s!==void 0?k(s,!1):"");d.useEffect(()=>{const m=O(n);(s!==m||s===void 0&&n!=="")&&h(s!==void 0?k(s,!1):"")},[s,n]);const o=m=>{const B=m.target.value,T=O(B);if(B==="")h(""),g(void 0);else if(T!==void 0)h(k(T,!1)),g(T);else{const M=B.replace(/[^0-9]/g,"");h(M)}},C=()=>{let m=O(n);if(m===void 0)if(i)m=a;else{g(void 0),h("");return}m<a&&(m=a),h(k(m,!1)),g(m)};return e.jsxs("div",{className:"mb-5",children:[e.jsxs("label",{htmlFor:l,className:"flex items-center text-sm font-medium text-gray-700 mb-1.5",children:[p&&e.jsx("span",{className:"mr-2 opacity-70",children:p}),c," ",i&&e.jsx("span",{className:"text-red-500 ml-0.5",children:"*"}),v&&e.jsxs("span",{className:"ml-1.5 group relative",children:[e.jsx(ee,{size:14,className:"text-gray-400 hover:text-gray-600 cursor-help"}),e.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-max max-w-xs p-2 text-xs text-white bg-slate-800 rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-lg",children:v})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",inputMode:"numeric",id:l,value:n,onChange:o,onBlur:C,placeholder:j,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors text-gray-800 placeholder-gray-400 text-lg"}),b&&e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm pointer-events-none",children:b})]})]})},I=({label:l,icon:c,percentage:s,amount:g,colorClassFocus:p,onPercentageChange:b,min:j=0,max:v=100,step:a=1,disabled:i=!1})=>e.jsxs("div",{className:`mb-4 p-3 sm:p-4 border rounded-lg transition-colors ${i?"bg-gray-100 opacity-70":"bg-slate-50/80 hover:bg-slate-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsxs("span",{className:`flex items-center text-sm font-medium ${i?"text-gray-500":"text-gray-700"}`,children:[c," ",e.jsx("span",{className:"ml-2",children:l})]}),e.jsxs("span",{className:`text-sm font-semibold ${i?"text-gray-500":"text-gray-800"}`,children:[s,"% - ",k(g)]})]}),e.jsx("input",{type:"range",min:j,max:v,step:a,value:s,onChange:n=>b(parseInt(n.target.value)),disabled:i,className:`w-full h-2.5 rounded-lg appearance-none 
                           ${i?"bg-gray-300 cursor-not-allowed":`cursor-pointer bg-gray-200 dark:bg-gray-700 ${p}`}`})]}),ue=()=>{const[l,c]=d.useState(0),[s,g]=d.useState(void 0),[p,b]=d.useState(null),[j,v]=d.useState(20),[a,i]=d.useState(50),[n,h]=d.useState(30),[o,C]=d.useState(20),m=s??0,T=m*((p?j:0)/100),M=m-T,L=M*(a/100),W=M*(n/100),E=M*(o/100),z=d.useCallback((r,x)=>{let f=a,y=n,N=o;r==="needs"?f=x:r==="wants"?y=x:N=x,f=Math.max(0,Math.min(100,f)),y=Math.max(0,Math.min(100,y)),N=Math.max(0,Math.min(100,N));const D=100;let A=f+y+N,t=D-A;if(t!==0)if(r==="needs"){const u=n+o;u>0?(y+=t*(n/u),N+=t*(o/u)):(y+=t/2,N+=t/2)}else if(r==="wants"){const u=a+o;u>0?(f+=t*(a/u),N+=t*(o/u)):(f+=t/2,N+=t/2)}else{const u=a+n;u>0?(f+=t*(a/u),y+=t*(n/u)):(f+=t/2,y+=t/2)}let S=Math.max(0,Math.min(100,Math.round(f))),w=Math.max(0,Math.min(100,Math.round(y))),P=Math.max(0,Math.min(100,Math.round(N)));A=S+w+P,t=D-A,t!==0&&(r!=="goals"&&P+t>=0&&P+t<=100?P+=t:r!=="wants"&&w+t>=0&&w+t<=100?w+=t:r!=="needs"&&S+t>=0&&S+t<=100?S+=t:P+t>=0&&P+t<=100?P+=t:w+t>=0&&w+t<=100?w+=t:S+=t);const $=Math.max(0,Math.min(100,Math.round(S))),H=Math.max(0,Math.min(100,Math.round(w))),J=D-$-H;i($),h(H),C(Math.max(0,Math.min(100,J)))},[a,n,o]);d.useEffect(()=>{const r=localStorage.getItem("simpleBudgetPlanner_v1");if(r){const x=JSON.parse(r);g(x.monthlyIncome),b(x.hasPriorityDebt===void 0?null:x.hasPriorityDebt),v(x.debtPaymentPercentage||20),i(x.needsPercentage||50),h(x.wantsPercentage||30),C(x.goalsPercentage||20)}},[]),d.useEffect(()=>{if(s!==void 0&&p!==null){const r={monthlyIncome:s,hasPriorityDebt:p,debtPaymentPercentage:j,needsPercentage:a,wantsPercentage:n,goalsPercentage:o};localStorage.setItem("simpleBudgetPlanner_v1",JSON.stringify(r))}},[s,p,j,a,n,o]);const _=()=>c(1),G=()=>{s!==void 0&&s>0?(Math.round(a+n+o)!==100&&(i(50),h(30),C(20)),c(2)):alert("Vui lòng nhập tổng thu nhập hàng tháng của bạn.")},R=()=>{c(0),g(void 0),b(null),v(20),i(50),h(30),C(20),localStorage.removeItem("simpleBudgetPlanner_v1")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-12 sm:py-16",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"relative mb-6 pt-4",children:e.jsxs("div",{className:"relative flex items-center justify-between sm:justify-center",children:[e.jsxs(X,{to:"/",className:"flex items-center text-sm text-purple-600 hover:text-purple-800 transition-colors group py-2 pr-2 -ml-1 sm:absolute sm:left-0 sm:top-1/2 sm:-translate-y-1/2",children:[e.jsx(Q,{size:18,className:"mr-1.5 group-hover:-translate-x-0.5"})," Trang chủ"]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-gray-900 text-center sm:mx-auto",children:"Simple Budget Planner"})]})}),e.jsxs("p",{className:"text-center text-gray-700 mb-8 text-sm sm:text-base leading-relaxed",children:["Công cụ này giúp bạn phân bổ thu nhập hàng tháng một cách hợp lý, có tính đến tình trạng nợ (nếu có).",e.jsx("br",{}),"Hãy bắt đầu bằng cách trả lời câu hỏi dưới đây."]}),e.jsxs(K,{mode:"wait",children:[l===0&&e.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("span",{className:"bg-slate-500 text-white rounded-full h-9 w-9 flex items-center justify-center text-md font-bold mr-3 shadow",children:"?"}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"Tình trạng Nợ Ưu Tiên"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-5",children:"Bạn có các khoản nợ (ngoài vay mua nhà/xe dài hạn đã có kế hoạch trả riêng) cần ưu tiên trả hàng tháng không? (Ví dụ: Nợ thẻ tín dụng, vay tiêu dùng lãi suất cao)"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-center gap-3",children:[e.jsx("button",{onClick:()=>{b(!0),_()},className:"w-full sm:w-auto px-6 py-2.5 bg-red-500 text-white font-medium rounded-lg shadow-md hover:bg-red-600 transition",children:"Có, tôi có nợ cần trả"}),e.jsx("button",{onClick:()=>{b(!1),_()},className:"w-full sm:w-auto px-6 py-2.5 bg-green-500 text-white font-medium rounded-lg shadow-md hover:bg-green-600 transition",children:"Không, tôi không có nợ ưu tiên"})]})]},"step0"),l===1&&e.jsxs(F.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},exit:{opacity:0,x:30},transition:{duration:.3,ease:"easeInOut"},className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-6 pb-3 border-b border-gray-200",children:[e.jsx("span",{className:"bg-purple-600 text-white rounded-full h-9 w-9 flex items-center justify-center text-md font-bold mr-3 shadow",children:"1"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-purple-700",children:"Nhập Thu Nhập Hàng Tháng"})]}),e.jsx(oe,{id:"monthlyIncome",label:"Tổng thu nhập ròng của bạn",value:s,onValueChange:g,icon:e.jsx(Y,{size:20,className:"text-purple-500"}),unit:"VNĐ",placeholder:"Ví dụ: 15,000,000",tooltip:"Là số tiền thực nhận sau khi đã trừ thuế và các khoản khấu trừ bắt buộc (nếu có).",isRequired:!0}),e.jsxs("button",{onClick:G,disabled:s===void 0||s<=0,className:"mt-6 w-full flex items-center justify-center px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition disabled:opacity-50",children:["Xem Phân Bổ Ngân Sách ",e.jsx(q,{size:20,className:"ml-2"})]}),e.jsx("button",{onClick:()=>c(0),className:"mt-3 w-full text-sm text-gray-600 hover:text-purple-600 py-2",children:"← Quay lại"})]},"step1"),l===2&&s!==void 0&&e.jsxs(F.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3,ease:"easeInOut"},className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-6 pb-3 border-b border-gray-200",children:[e.jsx("span",{className:"bg-teal-600 text-white rounded-full h-9 w-9 flex items-center justify-center text-md font-bold mr-3 shadow",children:"2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-teal-700",children:"Phân Bổ Ngân Sách Đề Xuất"})]}),e.jsx("div",{className:"mb-4 p-3 bg-indigo-50 rounded-md border border-indigo-200",children:e.jsxs("p",{className:"text-sm text-indigo-800",children:["Tổng thu nhập hàng tháng: ",e.jsx("strong",{className:"ml-1",children:k(s)})]})}),p&&e.jsx(I,{label:"Ưu tiên Trả Nợ",icon:e.jsx(ae,{size:18,className:"text-red-500"}),percentage:j,amount:T,colorClassFocus:"focus:ring-red-500 accent-red-500",onPercentageChange:v,min:0,max:100,step:5}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2 mt-5 pt-3 border-t border-gray-100",children:["Phân bổ cho phần thu nhập còn lại (",e.jsx("strong",{className:"text-gray-800",children:k(M)}),"):"]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Tổng % của Nhu cầu thiết yếu, Mong muốn cá nhân, và Mục tiêu tài chính cần là ",e.jsx("strong",{className:"text-blue-600",children:"100%"}),"."]}),e.jsx(I,{label:"Nhu Cầu Thiết Yếu",icon:e.jsx(se,{size:18,className:"text-sky-500"}),percentage:a,amount:L,colorClassFocus:"focus:ring-sky-500 accent-sky-500",onPercentageChange:r=>z("needs",r),min:0,max:100}),e.jsx(I,{label:"Mong Muốn Cá Nhân",icon:e.jsx(le,{size:18,className:"text-amber-500"}),percentage:n,amount:W,colorClassFocus:"focus:ring-amber-500 accent-amber-500",onPercentageChange:r=>z("wants",r),min:0,max:100}),e.jsx(I,{label:"Mục Tiêu Tài Chính",icon:e.jsx(U,{size:18,className:"text-emerald-500"}),percentage:o,amount:E,colorClassFocus:"focus:ring-emerald-500 accent-emerald-500",onPercentageChange:r=>z("goals",r),min:0,max:100}),Math.round(a+n+o)!==100&&M>0&&e.jsxs("p",{className:"text-xs text-red-500 mt-1 text-center",children:["Tổng % (Nhu cầu, Mong muốn, Mục tiêu) hiện là ",a+n+o,"%. Cần điều chỉnh để tổng là 100%."]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("button",{onClick:R,className:"w-full flex items-center justify-center px-6 py-3 bg-slate-600 text-white font-semibold rounded-lg shadow-md hover:bg-slate-700 transition",children:[e.jsx(Z,{size:18,className:"mr-2"})," Bắt đầu lại"]})})]},"step2")]})]}),e.jsx("div",{className:"mt-12 text-center text-xs text-gray-500 max-w-2xl mx-auto",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Lưu ý:"})," Công cụ này cung cấp một kế hoạch ngân sách gợi ý. Bạn hoàn toàn có thể điều chỉnh các tỷ lệ phần trăm cho phù hợp với tình hình và mục tiêu tài chính cá nhân của mình."]})})]})})};export{ue as default};
